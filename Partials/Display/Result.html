{namespace s=Subugoe\Find\ViewHelpers}
<f:comment>
  Creates a list item for document stored in the document variable.

  It uses the standardFields configured in settings, result highlighting
  (if configured) and a link to the documentâ€™s page.
</f:comment>
<li id="c{config.uid}-result-{document.id}">
  <article>
    <f:if condition="{s:data.valueForKey(array:document.fields, key:settings.standardFields.listview_associate)}">
      <p>
        <f:render
          partial="Display/Field/Inline"
          arguments="{
            config:config,
            results:results,
            document:document,
            field:settings.standardFields.listview_associate,
            separator:'; '
          }"/>
      </p>
    </f:if>
    <h1>
      <f:link.action
        action="detail"
        arguments="{id:document.id}"
        section="{settings.jumpToID}"
        noCacheHash="1"
        class="internal no-change"
        onclick="{f:if(
          condition:'{settings.paging.detailPagePaging == 1}',
          then:'return tx_find.detailViewWithPaging(this);'
        )}">
        <f:if condition="{s:data.valueForKey(array:document.fields, key:settings.standardFields.listview_type)}">
          <span class="fa-stack fa-fw">
          <f:switch expression="{document.listview_type_cardinality}">
            <f:case value="N">
              <i class="fa fa-stack-2x fa-files-o" style="color:#d3d3d3;"></i>
            </f:case>
            <f:case value="1">
              <i class="fa fa-stack-2x fa-file-o" style="color:#d3d3d3;"></i>
            </f:case>
          </f:switch>
          <f:switch expression="{document.listview_type}">
            <f:case value="AV-Medien">
              <i class="fa fa-stack-1x fa-music" title="AV-Medien"></i>
            </f:case>
            <f:case value="Bilder & Objekte">
              <i class="fa fa-stack-1x fa-image" title="Bilder & Objekte"></i>
            </f:case>
            <f:case value="Daten">
              <i class="fa fa-stack-1x fa-database" title="Daten"></i>
            </f:case>
            <f:case value="Gedrucktes">
              <i class="fa fa-stack-1x fa-book" title="Gedrucktes"></i>
            </f:case>
            <f:case value="Handschriften">
              <i class="fa fa-stack-1x fa-pencil" title="Handschriften"></i>
            </f:case>
            <f:case value="Normdaten">
              <i class="fa fa-stack-1x fa-address-card" title="Normdaten"></i>
            </f:case>
            <f:case default="TRUE">
              <i class="fa fa-stack-1x fa-archive" title="Sonstiges"></i>
            </f:case>
          </f:switch>
          </span>
        </f:if>
        <f:if condition="{s:data.valueForKey(array:document.fields, key:settings.standardFields.listview_title)}">
          <f:then>
            <f:render
              partial="Display/Field/Inline"
              arguments="{
                config:config,
                results:results,
                document:document,
                field:settings.standardFields.listview_title,
                separator:''
              }"/>
          </f:then>
          <f:else>
            ID: {document.id}
          </f:else>
        </f:if>
      </f:link.action>
    </h1>
    <p>
      <f:if condition="{s:data.valueForKey(array:document.fields, key:settings.standardFields.picture_mini)}">
        <f:for each="{document.picture_mini}" as="picture" key="key">
          <f:if condition="{key} == 0">
            <img src="{picture}" alt="" /><br />
          </f:if>
        </f:for>
      </f:if>
      <f:if condition="{s:data.valueForKey(array:document.fields, key:settings.standardFields.listview_additional1)}">
        <f:render
          partial="Display/Field/Inline"
          arguments="{
            config:config,
            results:results,
            document:document,
            field:settings.standardFields.listview_additional1,
            separator:'; '
          }"/>
      </f:if>
      <br />
      <f:if condition="{s:data.valueForKey(array:document.fields, key:settings.standardFields.listview_additional2)}">
        <f:render
          partial="Display/Field/Inline"
          arguments="{
            config:config,
            results:results,
            document:document,
            field:settings.standardFields.listview_additional2,
            separator:'; '
          }"/>
      </f:if>
    </p>
  </article>
</li>
