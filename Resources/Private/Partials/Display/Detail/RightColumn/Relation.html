<v:variable.set value="{s:data.valueForKey(array:document.fields, key:'detail_relation_type')}" name="detail_relation_type" />
<v:variable.set value="{s:data.valueForKey(array:document.fields, key:'detail_relation_title')}" name="detail_relation_title" />
<v:variable.set value="{s:data.valueForKey(array:document.fields, key:'detail_relation_comment')}" name="detail_relation_comment" />
<v:variable.set value="{s:data.valueForKey(array:document.fields, key:'detail_relation_ids')}" name="detail_relation_ids" />

<f:if condition="{detail_relation_title}">
    <section class="ctg-facet">
        <h3><a title="<f:translate key='schließen' extensionName='dla_opac_ng'/>"><span class="icon bel-pfeil-o01"></span></a>
            <f:translate key="detail.document_link" extensionName="dla_opac_ng"/>
        </h3>
        <ul>

            <f:for each="{detail_relation_title}" as="relation" iteration="iterator">
                <li>

                    <f:link.action action="detail" arguments="{id:'{detail_relation_ids.{iterator.index}}'}" title="{relation}" class="internal">
                        <span class="icon bel-link02"></span>
                    </f:link.action>

                    <f:link.action action="detail" arguments="{id:'{detail_relation_ids.{iterator.index}}'}" title="{relation}" class="internal">

                        {detail_relation_type.{iterator.index}}: {relation}
                        <f:if condition="{detail_relation_comment.{iterator.index}}!='␞'">
                            ({detail_relation_comment.{iterator.index}})
                        </f:if>
                    </f:link.action>
                </li>
            </f:for>

        </ul>
    </section>
</f:if>