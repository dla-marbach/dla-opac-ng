<v:variable.set value="{s:data.valueForKey(array:document.fields, key:'source')}" name="source" />

<f:switch expression="{source}">
    <f:case value="AK">
        <div class="ctg-dtvt-row">
            <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_KLASS_AUKEY')}" name="XX_AU_KLASS_AUKEY" />

            <f:if condition="{XX_AU_KLASS_AUKEY.{iterator.index}}=='nicht benutzbar' && {XX_AU_STAND_AUKEY.{iterator.index}}=='nicht im Bestand des DLA'">
                <f:then>
                    <div style="padding: 0.5rem 0;">
                        Jetzt bestellen
                        <span class="icon bel-kreis02" style="color:#cf2a0e;"></span>
                    </div>
                </f:then>
                <f:else>
                    <div style="padding: 0.5rem 0; margin-bottom: 10px;">
                        <a href="#" class="ctg-button" style="padding-bottom: 10px;padding-left: 10px;padding-right: 10px;">
                            Jetzt bestellen
                        </a>&nbsp;
                        <span class="icon bel-kreis02" style="color:#00df27;"></span>
                    </div>
                </f:else>
            </f:if>

            <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'listview_title')}" name="listview_title" />

            <div class="ctg-dtvt-content">
                <f:comment>Provinenz</f:comment>



                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_PEU100_AUKEY')}" name="XX_AU_PEU100_AUKEY" />
                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XXX_PE_listview_title_XX_AU_PEU100_AUKEY')}" name="XXX_PE_listview_title_XX_AU_PEU100_AUKEY" />
                <dla:replaceNullValue text="{XXX_PE_listview_title_XX_AU_PEU100_AUKEY.{iterator.index}}" as="PE_VALUE"/>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_KSU200_AUKEY')}" name="XX_AU_KSU200_AUKEY" />
                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XXX_KS_listview_title_XX_AU_KSU200_AUKEY')}" name="XXX_KS_listview_title_XX_AU_KSU200_AUKEY" />
                <dla:replaceNullValue text="{XXX_KS_listview_title_XX_AU_KSU200_AUKEY.{iterator.index}}" as="KS_VALUE"/>

                <f:if condition="{PE_VALUE} || {KS_VALUE}">
                    <f:then>
                        <f:if condition="{PE_VALUE}">
                            <f:link.action action="detail" arguments="{id: 'PE{XX_AU_PEU100_AUKEY.{person_iterator.index}}'}">
                                {PE_VALUE} <br/>
                            </f:link.action>
                        </f:if>

                        <f:if condition="{KS_VALUE}">
                            <f:link.action action="detail" arguments="{id: 'KS{XX_AU_KSU200_AUKEY.{ks_iterator.index}}'}">
                                {KS_VALUE} <br/>
                            </f:link.action>
                        </f:if>

                    </f:then>
                    <f:else>

                        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_BFKEY_AUKEY')}" name="XX_AU_BFKEY_AUKEY" />
                        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XXX_BF_B41600_XX_AU_BFKEY_AUKEY')}" name="XXX_BF_B41600_XX_AU_BFKEY_AUKEY" />
                        <dla:replaceNullValue text="{XXX_BF_B41600_XX_AU_BFKEY_AUKEY.{iterator.index}}" as="BF_VALUE"/>

                        <f:if condition="{BF_VALUE} && {BF_VALUE}!=''">
                            <f:link.action action="detail" arguments="{id: 'BF{XX_AU_BFKEY_AUKEY.{iterator.index}}'}">
                                {BF_VALUE} <br/>
                            </f:link.action>
                        </f:if>
                    </f:else>
                </f:if>

            </div>
            <div class="ctg-dtvt">
                <f:if condition="{source}=='AK' && {AUKEY}">
                    <a href="" class="detail_link">
                        Details & Benutzung
                    </a>
                </f:if>

            </div>
        </div>
        <f:if condition="{source}=='AK' && {AUKEY}">
            <f:then>
            <div id="{iterator.cycle}" class="copy-details ctg-dtvt-row">
            </f:then>
            <f:else>
                <div id="{iterator.cycle}" class="ctg-dtvt-row">
            </f:else>
        </f:if>
            <div class="">

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'detail_restrictions')}" name="detail_restrictions" />

                <f:if condition="{detail_restrictions}">
                    <f:then>
                        <div class="ctg-dtvt-row">
                            <div class="ctg-dtvt-label">
                                Benutzungshinweis
                            </div>

                            <div class="ctg-dtvt-content">
                                <f:if condition="{AUKEY_FLAG}">
                                    <f:then>
                                        {detail_restrictions}
                                    </f:then>
                                    <f:else>
                                        <dla:replaceBreaks text="{detail_restrictions}" as="detail_restrictions" />
                                        <f:format.raw>{detail_restrictions}</f:format.raw>
                                    </f:else>
                                </f:if>

                            </div>
                        </div>
                    </f:then>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_SIGNA_AUKEY')}" name="XX_AU_SIGNA_AUKEY" />
                <dla:replaceNullValue text="{XX_AU_SIGNA_AUKEY.{iterator.index}}" as="XX_AU_SIGNA_AUKEY"/>

                <f:if condition="{XX_AU_SIGNA_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Signatur
                        </div>
                        <f:comment><XX_AU_SIGNA_AUKEY> (<XX_AU_SIGNAV_AUKEY>) Wenn <XX_AU_LESSIG_AUKEY> belegt ist, das FEld LESSIG statt SIGNA ausgeben</f:comment>
                        <div class="ctg-dtvt-content">
                            {XX_AU_SIGNA_AUKEY}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_ZUGNR_AUKEY')}" name="XX_AU_ZUGNR_AUKEY" />
                <dla:replaceNullValue text="{XX_AU_ZUGNR_AUKEY.{iterator.index}}" as="XX_AU_ZUGNR_AUKEY"/>

                <f:if condition="{XX_AU_ZUGNR_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Zugangsnummer
                        </div>

                        <div class="ctg-dtvt-content">
                            {XX_AU_ZUGNR_AUKEY}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_SENDER_AUKEY')}" name="XX_AU_SENDER_AUKEY" />
                <dla:replaceNullValue text="{XX_AU_SENDER_AUKEY.{iterator.index}}" as="XX_AU_SENDER_AUKEY"/>

                <f:if condition="{XX_AU_SENDER_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Sender
                        </div>

                        <div class="ctg-dtvt-content">
                            {XX_AU_SENDER_AUKEY}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_SENDAT_AUKEY')}" name="XX_AU_SENDAT_AUKEY" />
                <dla:replaceNullValue text="{XX_AU_SENDAT_AUKEY.{iterator.index}}" as="XX_AU_SENDAT_AUKEY"/>

                <f:if condition="{XX_AU_SENDAT_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Sendedatum
                        </div>

                        <div class="ctg-dtvt-content">
                            <dla:formatDate
                                    date="{XX_AU_SENDAT_AUKEY}"
                                    as="dateFormat"
                            />
                            <f:format.date date="{dateFormat}" format="d.m.Y"></f:format.date>
                        </div>
                    </div>
                </f:if>


                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'detail_bestandsangaben')}" name="detail_bestandsangaben" />
                <dla:replaceNullValue text="{XX_AU_SENDAT_AUKEY.{iterator.index}}" as="detail_bestandsangaben"/>

                <f:if condition="{detail_bestandsangaben}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Bestands√ºbersicht
                        </div>

                        <div class="ctg-dtvt-content">
                            {detail_bestandsangaben}
                        </div>
                    </div>
                </f:if>

                <f:comment>

                    <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XXX_PE_listview_title_XX_AU_PEU100_AUKEY')}" name="XXX_PE_listview_title_XX_AU_PEU100_AUKEY" />
                    <dla:replaceNullValue text="{XXX_PE_listview_title_XX_AU_PEU100_AUKEY.{iterator.index}}" as="XXX_PE_listview_title_XX_AU_PEU100_AUKEY"/>

                    <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XXX_KS_listview_title_XX_AU_KSU200_AUKEY')}" name="XXX_KS_listview_title_XX_AU_KSU200_AUKEY" />
                    <dla:replaceNullValue text="{XXX_KS_listview_title_XX_AU_KSU200_AUKEY.{iterator.index}}" as="XXX_KS_listview_title_XX_AU_KSU200_AUKEY"/>

                    <f:if condition="{XXX_PE_listview_title_XX_AU_PEU100_AUKEY} || {XXX_KS_listview_title_XX_AU_KSU200_AUKEY}">
                        <div class="ctg-dtvt-row">
                            <div class="ctg-dtvt-label">
                                Vorbesitzer
                            </div>

                            <div class="ctg-dtvt-content">
                                {XXX_PE_listview_title_XX_AU_PEU100_AUKEY}

                                {XXX_KS_listview_title_XX_AU_KSU200_AUKEY}
                            </div>
                        </div>
                    </f:if>
                </f:comment>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XXX_BF_B41600_XX_AU_BFKEY_AUKEY')}" name="XXX_BF_B41600_XX_AU_BFKEY_AUKEY" />
                <dla:replaceNullValue text="{XXX_BF_B41600_XX_AU_BFKEY_AUKEY.{iterator.index}}" as="XXX_BF_B41600_XX_AU_BFKEY_AUKEY"/>

                <f:if condition="{XXX_BF_B41600_XX_AU_BFKEY_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            In Bestand
                        </div>

                        <div class="ctg-dtvt-content">
                            {XXX_BF_B41600_XX_AU_BFKEY_AUKEY}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_SYNKEY_AUKEY')}" name="XX_AU_SYNKEY_AUKEY" />
                <dla:replaceNullValue text="{XX_AU_SYNKEY_AUKEY.{iterator.index}}" as="XX_AU_SYNKEY_AUKEY"/>

                <f:if condition="{XX_AU_SYNKEY_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Merkmale
                        </div>

                        <div class="ctg-dtvt-content">
                            {XX_AU_SYNKEY_AUKEY}
                        </div>
                    </div>
                </f:if>


                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_FBTIT_AUKEY')}" name="XX_AU_FBTIT_AUKEY" />
                <dla:replaceNullValue text="{XX_AU_FBTIT_AUKEY.{iterator.index}}" as="XX_AU_FBTIT_AUKEY"/>

                <f:if condition="{XX_AU_FBTIT_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Beschreibung
                        </div>

                        <div class="ctg-dtvt-content">
                            {XX_AU_FBTIT_AUKEY}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_AI710_AUKEY')}" name="XX_AU_AI710_AUKEY" />
                <dla:replaceNullValue text="{XX_AU_AI710_AUKEY.{iterator.index}}" as="XX_AU_AI710_AUKEY"/>

                <f:if condition="{XX_AU_AI710_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Beschreibung
                        </div>

                        <div class="ctg-dtvt-content">
                            {XX_AU_AI710_AUKEY}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_BEMEXT_AUKEY')}" name="XX_AU_BEMEXT_AUKEY" />
                <dla:replaceNullValue text="{XX_AU_BEMEXT_AUKEY.{iterator.index}}" as="XX_AU_BEMEXT_AUKEY"/>

                <f:if condition="{XX_AU_BEMEXT_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Beschreibung
                        </div>

                        <div class="ctg-dtvt-content">
                            {XX_AU_BEMEXT_AUKEY}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_VIRAUF_AUKEY')}" name="XX_AU_VIRAUF_AUKEY" />
                <dla:replaceNullValue text="{XX_AU_VIRAUF_AUKEY.{iterator.index}}" as="XX_AU_VIRAUF_AUKEY"/>

                <f:if condition="{XX_AU_VIRAUF_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Beschreibung
                        </div>

                        <div class="ctg-dtvt-content">
                            {XX_AU_VIRAUF_AUKEY}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'id')}" name="id" />
                <s:data.newArray
                        name="query"
                        global="1"
                        keys="{0:'AUKEY'}"
                        values="{0:'{AUKEY.{iterator.index}}'}"
                />
                <dla:fromSolr
                    query="{query}"
                    fields="id,listview_title"
                />
                <f:for each="{solr}" as="item" iteration="solr_iterator">
                    <f:if condition="{item.id}!={id}">
                        
                        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'enthaltene_materialien')}" name="enthaltene_materialien" />

                        <f:for each="{enthaltene_materialien}" as="material" iteration="material_iterator">
                            <f:if condition="{material}=={item.id}">
                                <div class="ctg-dtvt-row">
                                    <div class="ctg-dtvt-label">
                                        Enthaltene Materialien
                                    </div>

                                    <div class="ctg-dtvt-content">
                                        <f:link.action action="detail" arguments="{id:material}" class="internal">
                                            {item.listview_title}
                                        </f:link.action>

                                    </div>
                                </div>
                            </f:if>
                        </f:for>

                    </f:if>
                </f:for>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_BUCHUM_AUKEY')}" name="XX_AU_BUCHUM_AUKEY" />
                <dla:replaceNullValue text="{XX_AU_BUCHUM_AUKEY.{iterator.index}}" as="XX_AU_BUCHUM_AUKEY"/>

                <f:if condition="{XX_AU_BUCHUM_AUKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Buchumschlag
                        </div>

                        <div class="ctg-dtvt-content">
                            "Vorhanden. Bitte per Leihschein bestellen."
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_MM_MOTITL_INDKEY')}" name="XX_MM_MOTITL_INDKEY" />
                <dla:replaceNullValue text="{XX_MM_MOTITL_INDKEY.{iterator.index}}" as="XX_MM_MOTITL_INDKEY"/>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_MM_MOPFAD_INDKEY')}" name="XX_MM_MOPFAD_INDKEY" />
                <dla:replaceNullValue text="{XX_MM_MOPFAD_INDKEY.{iterator.index}}" as="XX_MM_MOPFAD_INDKEY"/>

                <f:if condition="{XX_MM_MOTITL_INDKEY}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Digitales Objekt
                        </div>

                        <div class="ctg-dtvt-content">
                            <f:if condition="{XX_MM_MOPFAD_INDKEY}">
                                <f:then>
                                    <a href="{XX_MM_MOPFAD_INDKEY}">
                                        {XX_MM_MOTITL_INDKEY}
                                    </a>
                                </f:then>
                                <f:else>
                                    {XX_MM_MOTITL_INDKEY}
                                </f:else>
                            </f:if>
                        </div>
                    </div>
                </f:if>

            </div>
        </div>

    </f:case>
    <f:case value="BI">

        <div class="ctg-dtvt-row">

            <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_KLASS_AUKEY')}" name="XX_AU_KLASS_AUKEY" />

            <f:if condition="{XX_AU_KLASS_AUKEY=='nicht benutzbar'">
                <f:then>
                    <div style="padding: 0.5rem 0;">
                        Jetzt bestellen
                        <span class="icon bel-kreis02" style="color:#cf2a0e;"></span>
                    </div>
                </f:then>
                <f:else>
                    <div style="padding: 0.5rem 0; margin-bottom: 10px;">
                        <a href="#" class="ctg-button" style="padding-bottom: 10px;padding-left: 10px;padding-right: 10px;">
                            Jetzt bestellen
                        </a>&nbsp;
                        <span class="icon bel-kreis02" style="color:#00df27;"></span>
                    </div>
                </f:else>
            </f:if>

            <div class="ctg-dtvt-content">
                {listview_title}
            </div>
            <div class="ctg-dtvt">

            </div>
        </div>
        <div id="{iterator.cycle}" class="copy-details ctg-dtvt-row">

            <div class="">

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'detail_restrictions')}" name="detail_restrictions" />

                <f:if condition="{detail_restrictions}">
                    <f:then>
                        <div class="ctg-dtvt-row">
                            <div class="ctg-dtvt-label">
                                Benutzungshinweis
                            </div>

                            <div class="ctg-dtvt-content">
                                <dla:replaceBreaks text="{detail_restrictions}" as="detail_restrictions" />
                                <f:format.raw>{detail_restrictions}</f:format.raw>
                            </div>
                        </div>
                    </f:then>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'B04000')}" name="B04000" />

                <f:if condition="{B04000}">
                    <f:then>
                        <div class="ctg-dtvt-row">
                            <div class="ctg-dtvt-label">
                                Inventarnummer
                            </div>

                            <div class="ctg-dtvt-content">
                                {B04000}
                            </div>
                        </div>
                    </f:then>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'INDKEY')}" name="INDKEY" />
                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_MM_MOTITL_INDKEY')}" name="XX_MM_MOTITL_INDKEY" />

                <dla:replaceNullValue array="{INDKEY}" as="array"/>
                <f:if condition="{array}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Digitales Objekt
                        </div>

                        <div class="ctg-dtvt-content">
                            <f:for each="{INDKEY}" as="item" iteration="iterator_indkey">
                                <s:data.newArray
                                        name="query"
                                        global="1"
                                        keys="{0:'id'}"
                                        values="{0:'MM{item}'}"
                                />
                                <f:link.action action="index" arguments="{query}" class="internal" noCacheHash="1">
                                    {XX_MM_MOTITL_INDKEY.{iterator_indkey.index}}<br/>
                                </f:link.action>
                            </f:for>
                        </div>
                    </div>
                </f:if>

            </div>

        </div>

    </f:case>
    <f:case value="BF">

        <div class="ctg-dtvt-row">

            <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'DLAABT')}" name="DLAABT" />
            <dla:replaceNullValue text="{DLAABT}" as="DLAABT"/>

            <f:if condition="{DLAABT}=='Handschriftensammlung' || {DLAABT}=='Bibliothek'">
                <f:then>
                    <div style="padding: 0.5rem 0;">
                        Jetzt bestellen
                        <span class="icon bel-kreis02" style="color:#cf2a0e;"></span>
                    </div>
                </f:then>
                <f:else>
                    <div style="padding: 0.5rem 0; margin-bottom: 10px;">
                        <a href="#" class="ctg-button" style="padding-bottom: 10px;padding-left: 10px;padding-right: 10px;">
                            Jetzt bestellen
                        </a>&nbsp;
                        <span class="icon bel-kreis02" style="color:#00df27;"></span>
                    </div>
                </f:else>
            </f:if>

            <div class="ctg-dtvt-content">

            </div>
            <div class="ctg-dtvt">

            </div>
        </div>
        <div id="{iterator.cycle}" class="copy-details ctg-dtvt-row">
            <div class="">

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'detail_restrictions')}" name="detail_restrictions" />
                <dla:replaceNullValue text="{detail_restrictions}" as="detail_restrictions"/>

                <f:if condition="{detail_restrictions}">
                    <f:then>
                        <div class="ctg-dtvt-row">
                            <div class="ctg-dtvt-label">
                                Benutzungshinweis
                            </div>

                            <div class="ctg-dtvt-content">
                                <dla:replaceBreaks text="{detail_restrictions}" as="detail_restrictions" />
                                <f:format.raw>{detail_restrictions}</f:format.raw>
                            </div>
                        </div>
                    </f:then>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'BUCHN')}" name="BUCHN" />
                <dla:replaceNullValue text="{BUCHN}" as="BUCHN"/>

                <f:if condition="{BUCHN}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Mediennummer
                        </div>
                        <div class="ctg-dtvt-content">
                            {BUCHN}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'BEMEXT')}" name="BEMEXT" />
                <f:if condition="{BEMEXT}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Bemerkungen
                        </div>
                        <div class="ctg-dtvt-content">
                            {BEMEXT}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'B01610')}" name="B01610" />
                <dla:replaceNullValue array="{B01610}" as="B01610"/>

                <f:if condition="{B01610}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Ordnung
                        </div>
                        <div class="ctg-dtvt-content">
                            <f:for each="{B01610}" as="item">
                                {item} <br/>
                            </f:for>
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'B02610')}" name="B02610" />
                <dla:replaceNullValue array="{B02610}" as="B02610"/>
                <f:if condition="{B02610}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Verzeichnung
                        </div>
                        <div class="ctg-dtvt-content">
                            <f:for each="{B02610}" as="item">
                                {item} <br/>
                            </f:for>
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'INDKEY')}" name="INDKEY" />
                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_MM_MOTITL_INDKEY')}" name="XX_MM_MOTITL_INDKEY" />

                <dla:replaceNullValue array="{INDKEY}" as="array"/>
                <f:if condition="{array}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Digitales Objekt
                        </div>

                        <div class="ctg-dtvt-content">
                            <f:for each="{INDKEY}" as="item" iteration="iterator">
                                <s:data.newArray
                                        name="query"
                                        global="1"
                                        keys="{0:'id'}"
                                        values="{0:'MM{item}'}"
                                />
                                <f:link.action action="index" arguments="{query}" class="internal" noCacheHash="1">
                                    {XX_MM_MOTITL_INDKEY.{iterator.index}}<br/>
                                </f:link.action>
                            </f:for>
                        </div>
                    </div>
                </f:if>

            </div>
        </div>

    </f:case>
    <f:case value="HS">

        <div class="ctg-dtvt-row">

            <div style="padding: 0.5rem 0; margin-bottom: 10px;">
                <a href="#" class="ctg-button" style="padding-bottom: 10px;padding-left: 10px;padding-right: 10px;">
                    Jetzt bestellen
                </a>&nbsp;
                <span class="icon bel-kreis02" style="color:#00df27;"></span>
            </div>

            <div class="ctg-dtvt-content">
                {solr.listview_title}
            </div>
            <div class="ctg-dtvt">


            </div>
        </div>
        <div id="{iterator.cycle}" class="copy-details ctg-dtvt-row">
            <div class="">

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'detail_restrictions')}" name="detail_restrictions" />
                <dla:replaceNullValue text="{detail_restrictions}" as="detail_restrictions"/>

                <f:if condition="{detail_restrictions}">
                    <f:then>
                        <div class="ctg-dtvt-row">
                            <div class="ctg-dtvt-label">
                                Benutzungshinweis
                            </div>

                            <div class="ctg-dtvt-content">
                                <dla:replaceBreaks text="{detail_restrictions}" as="detail_restrictions" />
                                <f:format.raw>{detail_restrictions}</f:format.raw>
                            </div>
                        </div>
                    </f:then>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H04010')}" name="H04010" />
                <dla:replaceNullValue text="{H04010}" as="H04010"/>

                <f:if condition="{H04010}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            √úbernommene Sigel
                        </div>
                        <div class="ctg-dtvt-content">
                            {H04010}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H00070')}" name="H00070" />
                <dla:replaceNullValue text="{H00070}" as="H00070"/>

                <f:if condition="{H00070}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Mikrofiche
                        </div>
                        <div class="ctg-dtvt-content">
                            {H00070}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H00080')}" name="H00080" />
                <dla:replaceNullValue text="{H00080}" as="H00080"/>

                <f:if condition="{H00080}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Repro
                        </div>
                        <div class="ctg-dtvt-content">
                            {H00080}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'KASTNR')}" name="KASTNR" />
                <dla:replaceNullValue text="{KASTNR}" as="KASTNR"/>

                <f:if condition="{KASTNR}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Kasten
                        </div>
                        <div class="ctg-dtvt-content">
                            {KASTNR}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'MAPPNR')}" name="MAPPNR" />
                <dla:replaceNullValue text="{MAPPNR}" as="MAPPNR"/>

                <f:if condition="{MAPPNR}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Mappe
                        </div>
                        <div class="ctg-dtvt-content">
                            {MAPPNR}
                        </div>
                    </div>
                </f:if>

                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'INDKEY')}" name="INDKEY" />
                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_MM_MOTITL_INDKEY')}" name="XX_MM_MOTITL_INDKEY" />

                <dla:replaceNullValue array="{INDKEY}" as="array"/>
                <f:if condition="{array}">
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            Digitales Objekt
                        </div>

                        <div class="ctg-dtvt-content">
                            <f:for each="{INDKEY}" as="item" iteration="iterator_indkey">
                                <s:data.newArray
                                        name="query"
                                        global="1"
                                        keys="{0:'id'}"
                                        values="{0:'MM{item}'}"
                                />
                                <f:link.action action="index" arguments="{query}" class="internal" noCacheHash="1">
                                    {XX_MM_MOTITL_INDKEY.{iterator_indkey.index}}<br/>
                                </f:link.action>
                            </f:for>
                        </div>
                    </div>
                </f:if>

            </div>
        </div>

    </f:case>
    <f:defaultCase>

    </f:defaultCase>
</f:switch>