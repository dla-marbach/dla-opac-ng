{namespace v=FluidTYPO3\vhs\ViewHelpers}
{namespace slub=Slub\SlubFindExtend\ViewHelpers}
{namespace dla=Dla\DlaOpacNg\ViewHelpers}
{namespace s=Subugoe\Find\ViewHelpers}


<div class="ctg-detailview-head" xmlns:f="http://www.w3.org/1999/html">
    <div class="ctg-dvh-main">
        <div class="ctg-ri-icon">
            <f:render partial="Display/Detail/MediatypeIcon" arguments="{listview_type:document.listview_type, listview_type_cardinality:document.listview_type_cardinality, filter_digital:document.filter_digital}" />
        </div>
        <div class="ctg-ri-text">
            <h2>
                <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'listview_title')}" name="listview_title" />
                <f:if condition="{listview_title}">
                    <f:then>
                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                                document:document,
                                results:results,
                                field:'listview_title',
                                linkFieldContent:linkFieldContent,
                                linkFacets:linkFacets
                        }"/>
                    </f:then>
                    <f:else>
                        -
                    </f:else>
                </f:if>
            </h2>
            <p>
                <f:if condition="{s:data.valueForKey(array:document.fields, key:settings.standardFields.listview_associate)}">
                    <f:render
                            partial="Display/Field/Inline"
                            arguments="{
                            config:config,
                            results:results,
                            document:document,
                            field:settings.standardFields.listview_associate,
                            separator:'; '
                    }"/>
                </f:if>
                <f:if condition="{s:data.valueForKey(array:document.fields, key:settings.standardFields.listview_associate)}"></f:if>
            </p>
            <p>
                <f:if condition="{s:data.valueForKey(array:document.fields, key:settings.standardFields.listview_additional1)}">
                    <f:render
                            partial="Display/Field/Inline"
                            arguments="{
                            config:config,
                            results:results,
                            document:document,
                            field:settings.standardFields.listview_additional1,
                            separator:'; '
                    }"/>
                </f:if>
            </p>
            <p>
                <f:if condition="{s:data.valueForKey(array:document.fields, key:settings.standardFields.listview_additional2)}">
                    <f:render
                            partial="Display/Field/Inline"
                            arguments="{
                            config:config,
                            results:results,
                            document:document,
                            field:settings.standardFields.listview_additional2,
                            separator:'; '
                    }"/>
                </f:if>
            </p>
        </div>
        <div class="ctg-ri-image">

        </div>
    </div>

    <f:render partial="Display/Detail/DetailButtons" arguments="{_all}"/>
</div>

<f:comment>
    <div class="ctg-detailview-media">
        <img src="Start%20-%20DLA%20Marbach-Dateien/platzhalter-bild.jpg" alt="">
    </div>
</f:comment>

<div class="ctg-detailview-tabs">

    <ul class="ctg-dtvt-menu" id="tabbed">
        <li>
            <a href="#tabdetail" id="tabdetail" class="ctg-dtvt-menu-active">
                <span>
                    <f:translate key='Details' extensionName='dla_opac_ng'/>
                </span>
            </a>
        </li>
        <li>
            <a href="#tabaccess" id="tabaccess">
                <span>
                    <f:translate key='Zugang' extensionName='dla_opac_ng'/>
                </span>
            </a>
        </li>
    </ul>

    <div id="access" class="ctg-dtvt-details" style="display: none;">

        <f:render partial="Display/Detail/AccessExemplar/Exemplar" arguments="{_all}"/>

    </div>

    <div id="detail" class="ctg-dtvt-details">

        <div class="ctg-dtvt-row">
            <div class="ctg-dtvt-label">
                <f:translate key='Medienart' extensionName='dla_opac_ng'/>
            </div>
            <div class="ctg-dtvt-content">
                <f:render
                        partial="Display/Field/List"
                        arguments="{
                    document:document,
                    results:results,
                    field:'listview_type',
                    linkFieldContent:linkFieldContent,
                    linkFacets:linkFacets
                  }"/>
            </div>
        </div>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41410')}" name="H41410" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41420')}" name="H41420" />
        <f:if condition="{H41410} || {H41420}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Gattung' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <dla:data.joinFields
                                fieldNames="{0:'H41410',1:'H41420'}"
                                fieldWraps="{0:'%s',1:'. %s'}"
                                fields="{document.fields}"
                                as="linkTexts"
                        />
                        {linkTexts.0}

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41411')}" name="H41411" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41421')}" name="H41421" />
        <f:if condition="{H41411} || {H41421}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Weitere Gattung' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:for each="{H41411}" as="item" iteration="iterator">
                            <dla:replaceNullValue text="{item}" as="item"/>
                            {item}
                            <f:if condition="{H41421.{iterator.index}} && {H41421.{iterator.index}}!='#NV'">
                                <dla:replaceNullValue text="{H41421.{iterator.index}}" as="secondPart"/>
                                . {secondPart}
                            </f:if>
                            <br/>
                        </f:for>
                    </div>
                </div>
            </f:then>
        </f:if>



        <f:comment>VON</f:comment>

        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_PE_listview_title_PE0100')}" name="XX_PE_listview_title_PE0100" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'GFUPER')}" name="GFUPER" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'PE0ZU')}" name="PE0ZU" />

        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_KS_K0800_KSC200')}" name="XX_KS_K0800_KSC200" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'GFUKS')}" name="GFUKS" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'KSCZU')}" name="KSCZU" />


        <f:comment>AN</f:comment>

        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_PE_listview_title_PEA100')}" name="XX_PE_listview_title_PEA100" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'GFUPAN')}" name="GFUPAN" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'PEAZU')}" name="PEAZU" />

        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_KS_K0800_KSA200')}" name="XX_KS_K0800_KSA200" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'GFUKSA')}" name="GFUKSA" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'KSAZU')}" name="KSAZU" />

        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41410')}" name="H41410" />

        <f:if condition="{H41410} == 'Briefwechsel' || {H41410} == 'Briefwechsel ohne Bestandsbildner'">
            <f:then>
                <f:if condition="{XX_PE_listview_title_PE0100} || {XX_KS_K0800_KSC200} || {XX_PE_listview_title_PEA100} || {XX_KS_K0800_KSA200}">
                    <f:then>
                        <div class="ctg-dtvt-row">
                            <div class="ctg-dtvt-label">
                                <f:translate key='VON/AN' extensionName='dla_opac_ng'/>
                            </div>
                            <div class="ctg-dtvt-content">

                                <dla:data.joinFields
                                        fieldNames="{0:'XX_PE_listview_title_PE0100',1:'GFUPER',2:'PE0ZU'}"
                                        fieldWraps="{0:'%s',1:'%s',2:'[%s]'}"
                                        fields="{document.fields}"
                                        as="linkTexts"
                                />

                                <f:render
                                        partial="Display/Field/List"
                                        arguments="{
                                        document:document,
                                        results:results,
                                        field:'PE0100',
                                        linkFieldContent:1,
                                        linkFacets:linkFacets,
                                        linkTexts:linkTexts
                                }"/>


                                <dla:data.joinFields
                                        fieldNames="{0:'XX_KS_K0800_KSC200',1:'GFUKS',2:'KSCZU'}"
                                        fieldWraps="{0:'%s',1:'%s',2:'[%S]'}"
                                        fields="{document.fields}"
                                        as="linkTexts"
                                />

                                <f:render
                                        partial="Display/Field/List"
                                        arguments="{
                                        document:document,
                                        results:results,
                                        field:'KSC200',
                                        linkFieldContent:1,
                                        linkFacets:linkFacets,
                                        linkTexts:linkTexts
                                }"/>

                            </div>
                        </div>
                    </f:then>
                </f:if>
            </f:then>
            <f:else>
                <f:if condition="{XX_PE_listview_title_PE0100} || {XX_KS_K0800_KSC200}">
                    <f:then>
                        <div class="ctg-dtvt-row">
                            <div class="ctg-dtvt-label">
                                <f:translate key='VON' extensionName='dla_opac_ng'/>
                            </div>
                            <div class="ctg-dtvt-content">

                                <dla:data.joinFields
                                        fieldNames="{0:'XX_PE_listview_title_PE0100',1:'GFUPER',2:'PE0ZU'}"
                                        fieldWraps="{0:'%s',1:'%s',2:'[%s]'}"
                                        fields="{document.fields}"
                                        as="linkTexts"
                                />

                                <f:render
                                        partial="Display/Field/List"
                                        arguments="{
                            document:document,
                            results:results,
                            field:'PE0100',
                            linkFieldContent:1,
                            linkFacets:linkFacets,
                            linkTexts:linkTexts
                          }"/>

                                <dla:data.joinFields
                                        fieldNames="{0:'XX_KS_K0800_KSC200',1:'GFUKS',2:'KSCZU'}"
                                        fieldWraps="{0:'%s',1:'%s',2:'[%s]'}"
                                        fields="{document.fields}"
                                        as="linkTexts"
                                />

                                <f:render
                                        partial="Display/Field/List"
                                        arguments="{
                            document:document,
                            results:results,
                            field:'KSC200',
                            linkFieldContent:1,
                            linkFacets:linkFacets,
                            linkTexts:linkTexts
                          }"/>

                            </div>
                        </div>
                    </f:then>
                </f:if>
                <f:if condition="{XX_PE_listview_title_PEA100} || {XX_KS_K0800_KSA200}">
                    <f:then>
                        <div class="ctg-dtvt-row">
                            <div class="ctg-dtvt-label">
                                <f:translate key='AN' extensionName='dla_opac_ng'/>
                            </div>
                            <div class="ctg-dtvt-content">

                                <dla:data.joinFields
                                        fieldNames="{0:'XX_PE_listview_title_PEA100',1:'GFUPAN',2:'PEAZU'}"
                                        fieldWraps="{0:'%s',1:'%s',2:'[%s]'}"
                                        fields="{document.fields}"
                                        as="linkTexts"
                                />

                                <f:render
                                        partial="Display/Field/List"
                                        arguments="{
                            document:document,
                            results:results,
                            field:'PEA100',
                            linkFieldContent:1,
                            linkFacets:linkFacets,
                            linkTexts:linkTexts
                          }"/>

                                <dla:data.joinFields
                                        fieldNames="{0:'XX_KS_K0800_KSA200',1:'GFUKSA',2:'KSAZU'}"
                                        fieldWraps="{0:'%s',1:'%s',2:'[%s]'}"
                                        fields="{document.fields}"
                                        as="linkTexts"
                                />

                                <f:render
                                        partial="Display/Field/List"
                                        arguments="{
                            document:document,
                            results:results,
                            field:'KSA200',
                            linkFieldContent:1,
                            linkFacets:linkFacets,
                            linkTexts:linkTexts
                          }"/>

                            </div>
                        </div>
                    </f:then>
                </f:if>
            </f:else>
        </f:if>






        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'PEE100')}" name="PEE100" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'PEE100')}" name="GFUPUE" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'PEEZU')}" name="PEEZU" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'KSE200')}" name="KSE200" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'GFUKSE')}" name="GFUKSE" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'THEZU')}" name="THEZU" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_PE_listview_title_PEE100')}" name="XX_PE_listview_title_PEE100" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_KS_listview_title_KSE200')}" name="XX_KS_listview_title_KSE200" />

        <f:if condition="{PEE100} ||{GFUPUE} || {PEEZU} || {KSE200} ||{GFUKSE} || {THEZU}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='ÜBER' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <dla:data.joinFields
                                fieldNames="{0:'XX_PE_listview_title_PEE100',1:'GFUPUE',2:'PEEZU'}"
                                fieldWraps="{0:'%s',1:'%s',2:'[%s]'}"
                                fields="{document.fields}"
                                as="linkTexts"
                        />

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'PEE100',
                        linkFieldContent:1,
                        linkFacets:linkFacets,
                        linkTexts:linkTexts
                      }"/>

                        <dla:data.joinFields
                                fieldNames="{0:'XX_KS_listview_title_KSE200',1:'GFUKSE',2:'THEZU'}"
                                fieldWraps="{0:'%s',1:'%s',2:'[%s]'}"
                                fields="{document.fields}"
                                as="linkTexts"
                        />

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'KSE200',
                        linkFieldContent:1,
                        linkFacets:linkFacets,
                        linkTexts:linkTexts
                      }"/>

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'HSVLF')}" name="HSVLF" />
        <f:if condition="{HSVLF}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Vorliegende Namensform' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'HSVLF',
                        linkFieldContent:linkFieldContent,
                        linkFacets:linkFacets
                      }"/>
                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41801')}" name="H41801" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41800')}" name="H41800" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41802')}" name="H41802" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41820')}" name="H41820" />
        <f:if condition="{H41801} || {H41800} || {H41802} || {H41820}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Titel' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                            <f:if condition="{H41801}">
                                {H41801}:
                            </f:if>
                            <f:if condition="{H41800}">
                                {H41800}
                            </f:if>
                            <f:if condition="{H41802}">
                                ({H41802})
                            </f:if>
                            <f:if condition="{H41820}">
                                [{H41820}]
                            </f:if>

                        <f:comment>
                        <f:if condition="{H41801}">
                            <f:then>
                                <dla:data.joinFields
                                        fieldNames="{0:'H41801',1:'H41800',2:'H41802',3:'H41820'}"
                                        fieldWraps="{0:'%s',1:': %s',2:'(%s)',3:'[%s]'}"
                                        fields="{document.fields}"
                                        as="linkTexts"
                                />
                            </f:then>
                            <f:else>
                                <dla:data.joinFields
                                        fieldNames="{0:'H41800',1:'H41802',2:'H41820'}"
                                        fieldWraps="{0:'%s',1:'(%s)',2:'[%s]'}"
                                        fields="{document.fields}"
                                        as="linkTexts"
                                />
                            </f:else>
                        </f:if>

                        <f:for each="{linkTexts}" as="item" iteration="iterator">
                            {item}<br />
                        </f:for>
                        </f:comment>
                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41841')}" name="H41841" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41840')}" name="H41840" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41842')}" name="H41842" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H41850')}" name="H41850" />

        <f:if condition="{H41841} || {H41840} || {H41842} || {H41850}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Weitere Titel' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:for each="{H41840}" as="h41840_item" iteration="iterator">
                            <f:if condition="{H41841.{iterator.index}}">
                                {H41841.{iterator.index}}:
                            </f:if>
                            {h41840_item}
                            <f:if condition="{H41842.{iterator.index}}">
                                ({H41842.{iterator.index}})
                            </f:if>
                            <f:if condition="{H41850.{iterator.index}}">
                             [{H41850.{iterator.index}}]
                            </f:if>
                            <br />
                        </f:for>

                    </div>
                </div>
            </f:then>
        </f:if>

        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H02035')}" name="H02035" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'PB814')}" name="PB814" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H02040')}" name="H02040" />
        <f:if condition="{H02035} || {H02040}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Entstehungszeit' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:if condition="{H02035}">
                            <f:if condition="{H02035}=='ohne Datum' || {H02035}=='o.D.'">
                                <f:then>
                                    {H02035}
                                </f:then>
                                <f:else>
                                    <dla:formatDate date="{H02035}" as="H02035"/>
                                    {H02035}
                                </f:else>
                            </f:if>

                        </f:if>
                        <f:if condition="{PB814.0} && {PB814.0}!='#NV'">
                            [{PB814.0}]
                        </f:if>
                        <f:if condition="{H02035} && {H02040}">
                            -
                        </f:if>
                        <f:if condition="{H02040}">
                            <dla:formatDate date="{H02040}" as="H02040"/>
                            {H02040}
                        </f:if>
                        <f:if condition="{PB814.1}">
                            [{PB814.1}]
                        </f:if>

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H02010')}" name="H02010" />
        <f:if condition="{H02010}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Entstehungsort' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">
                        <f:for each="{H02010}" as="place">
                            {place}
                            <br/>
                        </f:for>
                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H02050')}" name="H02050" />
        <f:if condition="{H02050}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Umfang, Beilagen' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'H02050',
                        linkFieldContent:linkFieldContent,
                        linkFacets:linkFacets
                      }"/>

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H02030')}" name="H02030" />
        <f:if condition="{H02030}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Sprache' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'H02030',
                        linkFieldContent:linkFieldContent,
                        linkFacets:linkFacets
                      }"/>

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H00140')}" name="H00140" />
        <f:if condition="{H00140}!='Handschrift'">
            <f:if condition="{H00140}">
                <f:then>
                    <div class="ctg-dtvt-row">
                        <div class="ctg-dtvt-label">
                            <f:translate key='Objektart' extensionName='dla_opac_ng'/>
                        </div>
                        <div class="ctg-dtvt-content">

                            <f:render
                                    partial="Display/Field/List"
                                    arguments="{
                            document:document,
                            results:results,
                            field:'H00140',
                            linkFieldContent:linkFieldContent,
                            linkFacets:linkFacets
                          }"/>
                        </div>
                    </div>
                </f:then>
            </f:if>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H02410')}" name="H02410" />
        <f:if condition="{H02410}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Inhalt' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'H02410',
                        linkFieldContent:linkFieldContent,
                        linkFacets:linkFacets
                      }"/>
                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H02430')}" name="H02430" />
        <f:if condition="{H02430}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Anmerkungen' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">
                        {H02430}
                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_TH_SWVF_THA710')}" name="XX_TH_SWVF_THA710" />
        <f:if condition="{XX_TH_SWVF_THA710}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Schlagwort' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'THA710',
                        linkFieldContent:1,
                        linkFacets:linkFacets,
                        linkTexts:XX_TH_SWVF_THA710
                      }"/>

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_TH_SWAF_THA710')}" name="XX_TH_SWAF_THA710" />
        <f:if condition="{XX_TH_SWAF_THA710}">
            <div class="ctg-dtvt-row">
                <div class="ctg-dtvt-label">
                    <f:translate key='Schlagwort' extensionName='dla_opac_ng'/>
                </div>
                <div class="ctg-dtvt-content">
                    <f:render
                            partial="Display/Field/List"
                            arguments="{
                    document:document,
                    results:results,
                    field:'THA710',
                    linkFieldContent:1,
                    linkFacets:linkFacets
                  }"/>
                </div>
            </div>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AK_TITREG_AKY526')}" name="XX_AK_TITREG_AKY526" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AK_TITREG_GWKEY')}" name="XX_AK_TITREG_GWKEY" />
        <f:if condition="{XX_AK_TITREG_AKY526} || {XX_AK_TITREG_GWKEY}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Werk' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'AKY526',
                        linkFieldContent:1,
                        linkFacets:linkFacets
                        linkTexts:XX_AK_TITREG_AKY526
                      }"/>
                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'GWKEY',
                        linkFieldContent:1,
                        linkFacets:linkFacets
                        linkTexts:XX_AK_TITREG_GWKEY
                      }"/>
                    </div>
                </div>
            </f:then>
        </f:if>



        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_HS_KUTIT_HSOKEY')}" name="XX_HS_KUTIT_HSOKEY" />
        <f:if condition="{XX_HS_KUTIT_HSOKEY}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Bei / Auf / In' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">
                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                    document:document,
                    results:results,
                    field:'HSOKEY',
                    linkFieldContent:1,
                    linkFacets:linkFacets
                  }"/>
                    </div>
                </div>
            </f:then>
        </f:if>

        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H0001')}" name="H0001" />
        <dla:fromSolr query="HSOKEY:\"{H0001}\"" fields="id,listview_title" rows="500" />
        <f:if condition="{solr}">
            <div class="ctg-dtvt-row">
                <div class="ctg-dtvt-label">
                    <f:translate key='Dabei / Darauf / Darin' extensionName='dla_opac_ng'/>
                </div>
                <div class="ctg-dtvt-content">
                    <f:for each="{solr}" as="solrItem">

                        <f:link.action
                                action="detail"
                                arguments="{id: solrItem.fields.id}"
                        >
                            <div>
                                {solrItem.fields.listview_title}
                            </div>
                        </f:link.action>
                    </f:for>
                </div>
            </div>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_AU_AKKEY_AUKEY')}" name="XX_AU_AKKEY_AUKEY" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XXX_AK_TITREG_XX_AU_AKKEY_AUKEY')}" name="XXX_AK_TITREG_XX_AU_AKKEY_AUKEY" />
        <f:if condition="{XX_AU_AKKEY_AUKEY}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Bibliothek' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                            document:document,
                            results:results,
                            field:'XX_AU_AKKEY_AUKEY',
                            linkFieldContent:1,
                            linkFacets:linkFacets,
                            linkTexts:XXX_AK_TITREG_XX_AU_AKKEY_AUKEY
                          }"/>
                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_BI_B51800_BIKEY')}" name="XX_BI_B51800_BIKEY" />
        <f:if condition="{XX_BI_B51800_BIKEY}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Bilder und Objekte' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'BIKEY',
                        linkFieldContent:1,
                        linkFacets:linkFacets
                        linkTexts:XX_BI_B51800_BIKEY
                      }"/>

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_BF_B41600_HSBFKY')}" name="XX_BF_B41600_HSBFKY" />
        <f:if condition="{XX_BF_B41600_HSBFKY}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Bestandssignatur' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'HSBFKY',
                        linkFieldContent:1,
                        linkFacets:linkFacets,
                        linkTexts:{0:'XX_BF_B41600_HSBFKY'}
                      }"/>

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H05080')}" name="H05080" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H04000')}" name="H04000" />
        <f:if condition="{H05080} || {H04000}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Zugangsnummer' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <dla:data.joinFields
                                fieldNames="{0:'H05080',1:'H04000'}"
                                fieldWraps="{0:'%s',1:'. %s'}"
                                fields="{document.fields}"
                                as="linkTexts"
                        />
                        <f:for each="{linkTexts}" as="item" iteration="iterator">
                            <v:format.trim content="{item}" characters=" ."></v:format.trim><br />
                        </f:for>
                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'BUCHN')}" name="BUCHN" />
        <f:if condition="{BUCHN}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Mediennummer' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                document:document,
                results:results,
                field:'BUCHN',
                linkFieldContent:linkFieldContent,
                linkFacets:linkFacets
              }"/>
                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H04010')}" name="H04010" />
        <f:if condition="{H04010}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Übernommene Sigel' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                document:document,
                results:results,
                field:'H04010',
                linkFieldContent:linkFieldContent,
                linkFacets:linkFacets
              }"/>

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H00070')}" name="H00070" />
        <f:if condition="{H00070}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Mikrofiche' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                document:document,
                results:results,
                field:'H00070',
                linkFieldContent:linkFieldContent,
                linkFacets:linkFacets
              }"/>
                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H00080')}" name="H00080" />
        <f:if condition="{H00080}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Repro' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field:'H00080',
                        linkFieldContent:linkFieldContent,
                        linkFacets:linkFacets
                      }"/>

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'KASTNR')}" name="KASTNR" />
        <f:if condition="{KASTNR}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Kasten' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                document:document,
                results:results,
                field:'KASTNR',
                linkFieldContent:linkFieldContent,
                linkFacets:linkFacets
              }"/>

                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'MAPPNR')}" name="MAPPNR" />
        <f:if condition="{MAPPNR}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Mappe' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                document:document,
                results:results,
                field:'MAPPNR',
                linkFieldContent:linkFieldContent,
                linkFacets:linkFacets
              }"/>
                    </div>
                </div>
            </f:then>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'detail_restrictions')}" name="detail_restrictions" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'AUSTAT')}" name="AUSTAT" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'KLASS')}" name="KLASS" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'H04030')}" name="H04030" />

        <f:if condition="{detail_restrictions}">
            <div class="ctg-dtvt-row">
                <div class="ctg-dtvt-label">
                    <f:translate key='Benutzung' extensionName='dla_opac_ng'/>
                </div>
                <div class="ctg-dtvt-content">
                    {H04030}
                    <br>
                    <dla:replaceBreaks text="{detail_restrictions}" as="restriction"/>
                    <f:format.raw>{restriction}</f:format.raw>
                </div>
            </div>
        </f:if>


        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'XX_MM_MOTITL_INDKEY')}" name="XX_MM_MOTITL_INDKEY" />
        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'INDKEY')}" name="INDKEY" />
        <f:if condition="{INDKEY}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        <f:translate key='Digitales Objekt' extensionName='dla_opac_ng'/>
                    </div>
                    <div class="ctg-dtvt-content">

                        <dla:data.joinFields
                                fieldNames="{0:'XX_MM_MOTITL_INDKEY'}"
                                fieldWraps="{0:'%s'}"
                                fields="{document.fields}"
                                as="linkTexts"
                        />

                        <f:render
                                partial="Display/Field/List"
                                arguments="{
                        document:document,
                        results:results,
                        field: 'INDKEY',
                        linkFieldContent:1,
                        linkFacets:linkFacets,
                        linkTexts:linkTexts
                      }"/>

                    </div>
                </div>
            </f:then>
        </f:if>

        <v:variable.set value="{s:data.valueForKey(array:document.fields, key:'id')}" name="id" />
        <dla:collection record="{id}" as="data"/>
        <f:if condition="{data}">
            <f:then>
                <div class="ctg-dtvt-row">
                    <div class="ctg-dtvt-label">
                        In Bestandsübersicht zeigen
                    </div>
                    <div class="ctg-dtvt-content">
                        <div>
                            <f:for each="{data}" as="doc" iteration="iterator">
                                <f:if condition="{doc.record_id}">
                                    <f:then>
                                        <f:link.action pageUid="{settings.collectionUid}" additionalParams="{'tx_dlaopacng_dlacollection[record]':'{doc.record_id}'}">
                                            {doc.treeview_title}
                                        </f:link.action>
                                    </f:then>
                                    <f:else>
                                        {doc.treeview_title}
                                    </f:else>
                                </f:if>
                                <f:if condition="!{iterator.isLast}">
                                    ->
                                </f:if>
                            </f:for>
                        </div>
                    </div>
                </div>
            </f:then>
        </f:if>


    </div>
</div>
